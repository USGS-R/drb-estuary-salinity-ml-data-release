<?xml version="1.0" encoding="UTF-8"?>
<metadata>
  <idinfo>
    <citation>
      <citeinfo>
  <origin>Galen Gorski</origin>
  <origin>Salme Cook</origin>
  <origin>Amelia Snyder</origin>
  <origin>Alison P. Appling</origin>
  <origin>Theodore Thompson</origin>
  <origin>Jared D. Smith</origin>
  <origin>John C. Warner</origin>
  <origin>Simon N. Topp</origin>
        <pubdate>2023</pubdate>
        <title>Data release: Using deep learning and hydrodynamic modeling to understand and simulate salinity dynamics in the Delaware Bay</title>
        <geoform>Four zipped folders and associated files.</geoform>
        <pubinfo>
          <pubplace>Online (digital release)</pubplace>
          <publish>U.S. Geological Survey</publish>
        </pubinfo>
        <onlink>https://doi.org/YY.XXXXX/XXXXXX</onlink>
        <lworkcit>
    <citeinfo>
      <origin>Salme E. Cook</origin>
      <origin>John C. Warner</origin>
      <origin>Kendra L. Russell</origin>
      <pubdate>2023</pubdate>
      <title>A numerical investigation of the mechanisms controlling salt intrusion in the Delaware Bay estuary</title>
      <geoform>publication</geoform>
      <onlink>https://doi.org/10.1016/j.ecss.2023.108257</onlink>
    </citeinfo>
  </lworkcit>

      </citeinfo>
    </citation>
    <descript>
      <abstract>Salinity dynamics in the Delaware Bay estuary are a critical water quality concern as elevated salinity can damage infrastructure and threaten drinking water supplies. Current state-of-the-art modeling approaches use hydrodynamic models, which can produce accurate results but are limited by significant computational costs. We developed a machine learning (ML) model to predict the 250 mg/L Cl- isochlor, also known as the “salt front”, using daily river discharge, meteorological drivers, and tidal water level data. We use the ML model to predict the location of the salt front, measured in river miles (RM) along the Delaware River, during the period 2001-2020, and we compare the ML model results to results from the hydrodynamic Coupled Ocean Atmospheric Wave Sediment Transport (COAWST) model. The ML model shows RMSE = 2.52 RM during the five-year holdout period, superior to three overlapping years of COAWST model predictions, RMSE = 5.36 RM, however the ML model struggles to predict extreme events. Further, we use functional performance and expected gradients, tools from information theory and explainable artificial intelligence, to show that the ML model learns physically realistic relationships between the salt front location and drivers (particularly discharge and tidal water level). These results demonstrate how an ML modeling approach can provide predictive and functional accuracy at a significantly reduced computational cost compared to process-based models. Additionally, these results provide support for using ML models for applications in operational forecasting, scenario testing, management decision making, hindcasting, and resulting opportunities to understand past behavior and develop hypotheses.</abstract>
      <purpose>This release provides code and data for a running a machine learning model to predict estuary salinity and using information theory, explainable AI, and comparison to other modeling approaches for analysis.</purpose>
    </descript>
    <timeperd>
      <timeinfo>
        <rngdates>
          <begdate>20000101</begdate>
          <enddate>20191231</enddate>
        </rngdates>
      </timeinfo>
      <current>See publication date</current>
    </timeperd>
    <status>
      <progress>Complete</progress>
      <update>none planned</update>
    </status>
    <spdom>
      <descgeog>Zipped folders containing code and csv files detailing stream temperature predictions in the Delaware River Basin</descgeog>
      <bounding>
        <westbc></westbc>
        <eastbc></eastbc>
        <northbc></northbc>
        <southbc></southbc>
      </bounding>
    </spdom>
    <keywords>
      <theme>
        <themekt>none</themekt>
          <themekey>machine learning</themekey>
                <themekey>deep learning</themekey>
                <themekey>hybrid modeling</themekey>
                <themekey>water</themekey>
                <themekey>salt front</themekey>
                <themekey>Delaware River Basin</themekey>
                <themekey>modeling</themekey>
                <themekey>salinity</themekey>
                <themekey>coastal science</themekey>
                <themekey>estuary</themekey>
                <themekey>information theory</themekey>
                <themekey>explainable AI</themekey>
      </theme>
      <theme>
        <themekt>ISO 19115 Topic Category</themekt>
        <themekey>environment</themekey>
        <themekey>inlandWaters</themekey>
      </theme>
      <theme>
        <themekt>USGS Thesaurus</themekt>
        <themekey>water resources</themekey>
      </theme>
      <place>
        <placekt>Department of Commerce, 1995, Countries, Dependencies, Areas of Special Sovereignty, and Their Principal Administrative Divisions,  Federal Information Processing Standard (FIPS) 10-4, Washington, D.C., National Institute of Standards and Technology</placekt>
        <placekey>United States</placekey>
        <placekey>US</placekey>
      </place>
      <place>
        <placekt>U.S. Department of Commerce, 1987, Codes for the identification of the States, the District of Columbia and the outlying areas of the United States, and associated areas (Federal Information Processing Standard 5-2): Washington, D. C., NIST</placekt>
      </place>
    </keywords>
    <accconst>none</accconst>
    <useconst>These data are open access usable via creative commons as long as original data providers are acknowledged</useconst>
    <ptcontac>
      <cntinfo>
        <cntperp>
          <cntper>Galen A. Gorski</cntper>
          <cntorg>U.S. Geological Survey</cntorg>
        </cntperp>
        <cntpos>Machine Learning Specialist</cntpos>
        <cntaddr>
          <addrtype>Mailing and Physical</addrtype>
          <address>12201 Sunrise Valley Drive</address>
          <city>Reston</city>
          <state>VA</state>
          <postal>20192</postal>
          <country>U.S.A.</country>
        </cntaddr>
        <cntvoice>703-648-5246</cntvoice>
        <cntemail>ggorski@usgs.gov</cntemail>
      </cntinfo>
    </ptcontac>
    <datacred>This study was funded by the USGS. This research used resources of the Core Science Analytics and Synthesis Advanced Research Computing program at the U.S. Geological Survey.</datacred>
    <native>Multiple computer systems were used to generate these data, including linux, OSX. The open source languages R and Python were used on all systems.</native>
    <crossref>
    <citeinfo>
      <origin>Luke A. Winslow</origin>
      <origin>Gretchen J.A. Hansen</origin>
      <origin>Jordan S. Read</origin>
      <origin>Michael Notaro</origin>
      <pubdate>2017</pubdate>
      <title>Large-scale modeled contemporary and future water temperature estimates for 10,774 Midwestern U.S. Lakes</title>
      <geoform>publication</geoform>
      <onlink>http://dx.doi.org/10.1038/sdata.2017.53</onlink>
    </citeinfo>
  </crossref>

  </idinfo>
  <dataqual>
    <attracc>
      <attraccr>No formal attribute accuracy tests were conducted.</attraccr>
    </attracc>
    <logic>Not applicable</logic>
    <complete>Not applicable</complete>
    <posacc>
      <horizpa>
        <horizpar>A formal accuracy assessment of the horizontal positional information in the dataset was not conducted.</horizpar>
      </horizpa>
      <vertacc>
        <vertaccr>A formal accuracy assessment of the vertical positional information in the dataset was not conducted.</vertaccr>
      </vertacc>
    </posacc>
    <lineage>
      
      <procstep>
        <procdesc>This is a pipeline that generates a machine learning model for predicting the location of the 250 mg/L isochlor in the Delaware Bay Estuary using discharge, meteorological, and tidal observations. The pipeline is subdivided into four linked steps: 1) 01_fetch – fetches the appropriate data from online repositories 2) 02_munge – munges the data making it ready for use by the model 3) 03_model – trains the ML model and makes predictions and 4) 04_analysis – analyzes the results including a comparison to hydrodynamic model outputs. The steps can be run using the contained Snakemake files.</procdesc>
        <procdate>20230413</procdate>
      </procstep>
    </lineage>
  </dataqual>
  <spdoinfo>
    <indspref>U.S.A.</indspref>
    <direct></direct>
    <ptvctinf>
      <sdtsterm>
        <sdtstype></sdtstype>
        <ptvctcnt></ptvctcnt>
      </sdtsterm>
    </ptvctinf>
  </spdoinfo>
  <spref>
    <horizsys>
      <geograph>
        <latres>1e-05</latres>
        <longres>1e-05</longres>
        <geogunit>Decimal degrees</geogunit>
      </geograph>
      <geodetic>
        <horizdn>WGS84</horizdn>
        <ellips>WGS_1984</ellips>
        <semiaxis>6378137.0</semiaxis>
        <denflat>298.257</denflat>
      </geodetic>
    </horizsys>
  </spref>
  <eainfo>
    <detailed>
      <enttyp>
        <enttypl>01_fetch.zip</enttypl>
        <enttypd>A zipped file containing data and code to retrieve additional data for machine learning model.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
      <attr>
        <attrlabl>in</attrlabl>
        <attrdef>A folder to hold a zip file containing meteorological data (which contains its own readme file). </attrdef>
        <attrdefs>citation or URL of column_name_1. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>src</attrlabl>
        <attrdef>A folder containing python scripts for fetching and processing model data.</attrdef>
        <attrdefs>citation or URL of column_name_2. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_fetch_noaa_nerrs.yaml</attrlabl>
        <attrdef>A configuration file defining read, write and save location of NOAA NERRS meteorological data.</attrdef>
        <attrdefs>citation or URL of y. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_fetch_noaa_nos.yaml</attrlabl>
        <attrdef>A configuration file defining read, write and save location NOAA NOS tidal data.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_fetch_usgs_nwis.yaml</attrlabl>
        <attrdef>A configuration file defining read, write and save location of USGS NWIS discharge data.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>wildcards_fetch_config.yaml</attrlabl>
        <attrdef>A configuration file containing parameters to download NOAA NOS, NOAA NERRS and USGS NWIS data.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
    </detailed>
<detailed>
      <enttyp>
        <enttypl>02_munge.zip</enttypl>
        <enttypd>A zip file containing python scripts and configuration files to process data for model.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
      <attr>
        <attrlabl>src</attrlabl>
        <attrdef>A folder containing python scripts to process retrieved data for model.</attrdef>
        <attrdefs>citation or URL of x. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_fill_discharge_prms.yaml</attrlabl>
        <attrdef>A configuration file for specifying which items to pull from ScienceBase to fill discharge at Trenton and Schuykill.</attrdef>
        <attrdefs>citation or URL of y. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_munge_noaa_nerrs.yaml</attrlabl>
        <attrdef>A configuration file for processing NOAA NERRS data.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_munge_noaa_nos.yaml</attrlabl>
        <attrdef>A configuration file for processing NOAA NOS data.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>params_config_munge_usgs_nwis.yaml</attrlabl>
        <attrdef>A configuration file for processing USGS NWIS data.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
    </detailed>
<detailed>
      <enttyp>
        <enttypl>03_model.zip</enttypl>
        <enttypd>A zip file containing python scripts, workflow files and configuration files for information theory analysis.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
      <attr>
        <attrlabl>in</attrlabl>
        <attrdef>A folder containing a csv of daily salt front averages, weekly salt front averages and processed COAWST model output.</attrdef>
        <attrdefs>citation or URL of x. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>src</attrlabl>
        <attrdef>A folder containing python scripts to run machine learning model.</attrdef>
        <attrdefs>citation or URL of y. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>out/Run_Manuscript_Results</attrlabl>
        <attrdef>A folder containing the machine learning model output.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>hyperparameter_config.yaml</attrlabl>
        <attrdef>A configuration file for hyperparameter optimization.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
<attr>
        <attrlabl>model_config.yaml</attrlabl>
        <attrdef>A configuration file for running machine learning model.</attrdef>
        <attrdefs>citation or URL of z. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
    </detailed>
<detailed>
      <enttyp>
        <enttypl>04_analysis.zip</enttypl>
        <enttypd>A zip file containing python scripts and configuration files for analyzing model performance including measuring functional performance and calculating expected gradients.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
      <attr>
        <attrlabl>src</attrlabl>
        <attrdef>A folder containing python scripts to run information theory analysis and other analyses.</attrdef>
        <attrdefs>citation or URL of y. If citation, should appear in cross-cites. Can use NA or This release</attrdefs>
        <attrdomv>
          <rdom>
            <rdommin>NA</rdommin>
            <rdommax>NA</rdommax>
            <attrunit>NA</attrunit>
          </rdom>
        </attrdomv>
      </attr>
    </detailed>
<detailed>
      <enttyp>
        <enttypl>README.md</enttypl>
        <enttypd>A markdown file detailing how to run the included workflow.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
          </detailed>
<detailed>
      <enttyp>
        <enttypl>Snakefile_fetch_munge</enttypl>
        <enttypd>A snakemake workflow used to fetch and process data for machine learning model.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
          </detailed>
<detailed>
      <enttyp>
        <enttypl>Snakefile_model_analysis</enttypl>
        <enttypd>A snakemake workflow used to analyze model performance using information theory analysis, expected gradients, and other techniques.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
          </detailed>
<detailed>
      <enttyp>
        <enttypl>Snakefile_run_ml_model</enttypl>
        <enttypd>A snakemake workflow used to run machine learning model.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
          </detailed>
<detailed>
      <enttyp>
        <enttypl>environment.yaml</enttypl>
        <enttypd>An environment yaml for creating a conda environment with the necessary libraries.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
          </detailed>
<detailed>
      <enttyp>
        <enttypl>utils.py</enttypl>
        <enttypd>A python script with helper functions for retrieving and processing data.</enttypd>
        <enttypds>U.S. Geological Survey</enttypds>
      </enttyp>
          </detailed>
  </eainfo>
  <distinfo>
    <distrib>
      <cntinfo>
        <cntorgp>
          <cntorg>U.S. Geological Survey</cntorg>
          <cntper>GS ScienceBase</cntper>
        </cntorgp>
        <cntaddr>
          <addrtype>mailing address</addrtype>
          <address>Denver Federal Center, Building 810, Mail Stop 302</address>
          <city>Denver</city>
          <state>CO</state>
          <postal>80255</postal>
          <country>United States</country>
        </cntaddr>
        <cntvoice>1-888-275-8747</cntvoice>
        <cntemail>sciencebase@usgs.gov</cntemail>
      </cntinfo>
    </distrib>
    <distliab>Unless otherwise stated, all data, metadata and related materials are considered to satisfy the quality standards relative to the purpose for which the data were collected. Although these data and associated metadata have been reviewed for accuracy and completeness and approved for release by the U.S. Geological Survey (USGS), no warranty expressed or implied is made regarding the display or utility of the data on any other system or for general or scientific purposes, nor shall the act of distribution constitute any such warranty.</distliab>
    <stdorder>
      <digform>
        <digtinfo>
          <formname>Four zipped folders and associated files.</formname>
        </digtinfo>
        <digtopt>
          <onlinopt>
            <computer>
              <networka>
                <networkr>https://doi.org/YY.XXXXX/XXXXXX</networkr>
              </networka>
            </computer>
          </onlinopt>
        </digtopt>
      </digform>
      <fees>None</fees>
    </stdorder>
  </distinfo>
  <metainfo>
    <metd>20230413</metd>
    <metc>
      <cntinfo>
        <cntperp>
          <cntper>Galen A. Gorski</cntper>
          <cntorg>U.S. Geological Survey</cntorg>
        </cntperp>
        <cntpos>Machine Learning Specialist</cntpos>
        <cntaddr>
          <addrtype>Mailing and Physical</addrtype>
          <address>12201 Sunrise Valley Drive</address>
          <city>Reston</city>
          <state>VA</state>
          <postal>20192</postal>
          <country>U.S.A.</country>
        </cntaddr>
        <cntvoice>703-648-5246</cntvoice>
        <cntfax></cntfax>
        <cntemail>ggorski@usgs.gov</cntemail>
      </cntinfo>
    </metc>
    <metstdn>FGDC Content Standard for Digital Geospatial Metadata</metstdn>
    <metstdv>FGDC-STD-001-1998</metstdv>
  </metainfo>
</metadata>